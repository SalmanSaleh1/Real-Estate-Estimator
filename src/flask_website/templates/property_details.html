{% extends "base.html" %}

{% block title %}Property Details{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/property-details.css') }}">
{% endblock %}

{% block body %}
    <div id="property-details-container" class="detail-card">
        <header>
            <h1 class="text-center" style="color: #2C4E71;">Property Details</h1>
        </header>
        
        <div class="info-wrapper">
            <!-- Essential Property Information Block -->
            <div class="info-section">
                <p class="card-subtitle" onclick="toggleSection('essential-info')">Essential Property Information</p>
                <div id="essential-info" class="row">
                    <div class="col"><strong>Parcel No:</strong> {{ property.parcel_no or "Not available" }}</div>
                    <div class="col"><strong>Block No:</strong> {{ property.block_no or "Not available" }}</div>
                    <div class="col"><strong>Land Use Type:</strong> {{ property.parcel_land_use or "Not available" }}</div>
                    <div class="col"><strong>Land Status:</strong> {{ property.parcel_status or "Not available" }}</div>
                    <div class="col"><strong>Estimated Price:</strong> {{ predicted_price or "Not available" }}</div>
                    <div class="col"><strong>Shape Area:</strong> {{ property.shape_area or "Not available" }} mÂ²</div>
                    <div class="col"><strong>City Name:</strong> {{ property.city_name or "Not available" }}</div>
                    <div class="col"><strong>District Name:</strong> {{ property.district_name or "Not available" }}</div>
                </div>
            </div>

            <!-- Additional Property Attributes Block -->
            <div class="info-section">
                <p class="card-subtitle" onclick="toggleSection('additional-attributes')">Additional Property Attributes</p>
                <div id="additional-attributes" class="row" style="display: none;">
                    <div class="col"><strong>Owner Name:</strong> {{ property.owner_name or "Not available" }}</div>
                    <div class="col"><strong>Subdivision Name:</strong> {{ property.subdiv_name or "Not available" }}</div>
                    <div class="col"><strong>Construction Type:</strong> {{ property.construction_type or "Not available" }}</div>
                    <div class="col"><strong>Split Type:</strong> {{ property.split_type or "Not available" }}</div>
                </div>
            </div>

            <!-- Administrative and Reference Data Block -->
            <div class="info-section">
                <p class="card-subtitle" onclick="toggleSection('admin-reference')">Administrative and Reference Data</p>
                <div id="admin-reference" class="row" style="display: none;">
                    <div class="col"><strong>Coordinates:</strong> {{ property.coordinates or "Not available" }}</div>
                    <div class="col"><strong>Municipality Name:</strong> {{ property.muncp_name or "Not available" }}</div>
                    <div class="col"><strong>Municipality ID:</strong> {{ property.muncp_id or "Not available" }}</div>
                    <div class="col"><strong>Subdivision No:</strong> {{ property.subdiv_no or "Not available" }}</div>
                    <div class="col"><strong>Subdivision Type:</strong> {{ property.subdiv_type or "Not available" }}</div>
                    <div class="col"><strong>Municipality Description:</strong> {{ property.muncp_desc or "Not available" }}</div>
                </div>
            </div>
        </div>

        <!-- Back to Map Button -->
        <div class="button-container text-right">
            <a href="/" class="custom-button">Back to Map</a>
        </div>
    </div>

{% endblock %}

{% block scripts %}
    <script>
        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            section.style.display = section.style.display === 'none' ? 'flex' : 'none';
        }
    </script>
{% endblock %}
