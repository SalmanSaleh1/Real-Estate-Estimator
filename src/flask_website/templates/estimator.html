{% extends "base.html" %}

{% block title %}Real Estate Estimator{% endblock %}

{% block head %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/estimator.css') }}">
{% endblock %}

{% block body %}
  <div class="estimator-wrapper">
    <div class="estimator-container">
      <!-- Title of the estimator tool -->
      <h1 class="estimator-title">Real Estate Estimator Tool</h1>

      <!-- Form for inputting property details -->
      <form action="/estimate" method="POST" class="estimator-form">
        
        <!-- Area dropdown -->
        <div class="form-row">
          <div class="form-column">
            <div class="form-group">
              <label for="area"class="highlight-blue">Area:</label>
              <select name="area" id="area" class="form-control" required>
                <option value="">Select an area</option>
                <option value="منطقة الرياض">منطقة الرياض</option>
                <option value="منطقة مكة المكرمة">منطقة مكة المكرمة</option>
                <option value="منطقة المدينة المنورة">منطقة المدينة المنورة</option>
                <option value="منطقة القصيم">منطقة القصيم</option>
                <option value="المنطقة الشرقية">المنطقة الشرقية</option>
                <option value="منطقة عسير">منطقة عسير</option>
                <option value="منطقة تبوك">منطقة تبوك</option>
                <option value="منطقة حائل">منطقة حائل</option>
                <option value="منطقة الحدود الشمالية">منطقة الحدود الشمالية</option>
                <option value="منطقة جازان">منطقة جازان</option>
                <option value="منطقة نجران">منطقة نجران</option>
                <option value="منطقة الباحة">منطقة الباحة</option>
                <option value="منطقة الجوف">منطقة الجوف</option>
              </select>
            </div>
          </div>

          <!-- City dropdown -->
          <div class="form-column">
            <div class="form-group">
              <label for="city"class="highlight-blue">City:</label>
              <select name="city" id="city" class="form-control" required>
                <option value="">Select a city</option>
              </select>
            </div>
          </div>
        </div>

        <!-- District dropdown -->
        <div class="form-row">
          <div class="form-column">
            <div class="form-group">
              <label for="district"class="highlight-blue">District:</label>
              <select name="district" id="district" class="form-control" required>
                <option value="">Select a district</option>
              </select>
            </div>
          </div>

          <div class="form-column">
            <div class="form-group">
              <label for="mukatat"class="highlight-blue">Mukatat:</label>
              <input type="text" name="mukatat" id="mukatat" placeholder="Eg: 873" class="form-control" required>
            </div>
          </div>
        </div>

        <!-- Property Classification, Property Type, and Space fields -->
        <div class="form-row">
          <div class="form-column">
            <div class="form-group">
              <label for="property_classification"class="highlight-blue">Property Classification:</label>
              <select name="property_classification" id="property_classification" class="form-control" required>
                <option value="">Select a Classification</option>
                <option value="سكني">سكني</option>
                <option value="تجاري">تجاري</option>
                <option value="زراعي">زراعي</option>
                <option value="صناعي">صناعي</option>
              </select>
            </div>
          </div>

          <div class="form-column">
            <div class="form-group">
              <label for="property_type"class="highlight-blue">Property Type:</label>
              <select name="property_type" id="property_type" class="form-control" required>
                <option value="">Select a Type</option>
                <option value="أرض">أرض</option>
                <option value="أرض زراعية">أرض زراعية</option>
                <option value="شقة">شقة</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Space field -->
        <div class="form-row">
          <div class="form-column">
            <div class="form-group">
              <label for="space"class="highlight-blue">Space (m²):</label>
              <input type="number" name="space" id="space" placeholder="Enter space" class="form-control" required>
            </div>
          </div>
        </div>

        <!-- Submit button -->
        <button type="submit" class="btn btn-primary">Calculate Estimated Value</button>
      </form>

      <!-- Disclaimer -->
      <p class="disclaimer">This estimate is only a prediction and should not be considered the final price. Please consult with a professional for an accurate property valuation.</p>

      <!-- Placeholder for the result -->
      <div id="result" class="result-box"></div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const areaSelect = document.getElementById('area');
      const citySelect = document.getElementById('city');
      const districtSelect = document.getElementById('district');
      const resultBox = document.getElementById('result');

      // Define city options based on area selection
      const citiesByArea = {
        'منطقة الرياض': ['الرياض', 'الخرج', 'الدرعيه', 'الدلم', 'الدوادمي', 'حوطة بني تميم', 'شقراء', 'عفيف'],
        'منطقة مكة المكرمة': ['جده', 'مكة المكرمة', 'الطائف', 'رابغ', 'رنيه'],
        'منطقة المدينة المنورة': ['المدينة المنورة', 'الحناكية', 'وادي الفرع'],
        'منطقة القصيم': ['بريده', 'عنيزه', 'الرس', 'البدائع'],
        'المنطقة الشرقية': ['الدمام', 'الخبر', 'القطيف', 'الاحساء', 'ابقيق'],
        'منطقة عسير': ['ابها', 'خميس مشيط', 'أحد رفيده', 'بيشه', 'محايل عسير'],
        'منطقة تبوك': ['تبوك', 'حقل', 'ضباء', 'تيماء'],
        'منطقة حائل': ['حائل', 'بقعاء'],
        'منطقة الحدود الشمالية': ['عرعر', 'رفحاء'],
        'منطقة جازان': ['جيزان', 'ابو عريش', 'بيش', 'صامطه'],
        'منطقة نجران': ['نجران', 'يدمه', 'شروره'],
        'منطقة الباحة': ['الباحه', 'المخواة'],
        'منطقة الجوف': ['سكاكا', 'دومة الجندل']
      };

      // Define district options based on city selection
      const districtsByCity = {
        'أضم': ['الرحاب','حي/أخرى'],
        'ابقيق': ['الربوه المنطقة الثانية عشر', 'أشبيليه المنطقة الخامسة عشر', 'الاندلس', 'أشبيليه المنطقة السادسة عشر', 'الربوه المنطقة الثالثة عشر', 'المدينة', 'صلاصل', 'عين دار الجديدة', 'قرطبه المنطقه الثانية', 'أشبيليه المنطقة الرابعة عشر', 'الزهور', 'الربوه المنطقة الحادية عشر', 'المطار','حي/أخرى'],
        'ابها': ['ال غليظ', 'المحالة بمدينة سلطان', 'سر السريحه حجلا مدينة سلطان', 'المحاله', 'الهيام شمال العرين', 'حجلا', 'المحالة مدينة سلطان', 'شعب عما بقرية ال جرجر بنى مالك', 'الحبيل', 'مدينة سلطان', 'الصفراء', 'الضباب', 'الزهور','حي/أخرى'],
        'ابو عريش': ['رح ابى عريش', 'النزهة', 'فلس', 'الملك فهد', 'القحمة', 'القدس', 'الريان بمركز وادى جيزان', 'الربيع', 'الصفا', 'الزهور', 'الصفاء', 'الروضه', 'الورود','حي/أخرى'],
        'احد رفيده': ['الأمير بندر بن عبد العزيز وهيف بن عبود القحطانى', 'الربوه', 'العزيزية', 'النزهه', 'النهضة','حي/أخرى'],
        'الاحساء': ['أحد', 'الأمراء', 'الحزام الأخضر', 'الخالدية', 'السلمانية الجنوبيه', 'الصقور', 'القدس', 'المروج', 'المهندسين', 'النخيل', 'النسيم', 'الهدا', 'الورود', 'الورود الثانى', 'جنوب الهفوف', 'جواثا فى الكلابية', 'ضاحية هجر', 'الرياض', 'العزيزية', 'النزهة', 'الراجحى', 'الريان', 'الصحافة', 'العاصمة', 'الورود الثالث', 'اليرموك', 'الجامعيين', 'الراشدية', 'الاندلس', 'الخزامى بالجشه', 'الزهرة', 'اليمامة غرب السكة', 'بوسحبل', 'الجوهرة', 'الربوة', 'منسوبى التعليم', 'السليمانية', 'الصالحية', 'السلام', 'الشروق', 'الصفا', 'العليا', '4/ 1030', 'الفردوس', 'القادسية', 'الفضول', 'محاسن', 'الروضة', 'الحزم', 'الواحة', 'الفنار', 'الصالحيه', 'الضباب', 'المباركية', 'هجر', 'الزهراء','حي/أخرى'],
        'الافلاج': ['الخالدية', 'الريان', 'الأندلس', 'الملك عبدالله', 'السعودية', 'الفيصليه', 'الملك فهد', 'النهضة', 'النخيل','حي/أخرى'],
        'الباحه': ['جفن', 'ح/ 19/ جدره', 'كرا', 'وقادا', 'المطار','حي/أخرى'],
        'البدائع': ['التحليه', 'الجامعة', 'القبعية', 'المنتزه', 'النخيل', 'الاسكان', 'الرواد', 'رامات', 'البساتين', 'القدس', 'الروضة', 'السلام', 'الخليج', 'التحلية', 'الروضه', 'قرطبة', 'النهضة', 'الحزم', 'المرقب', 'الحمراء', 'العليا', 'الأندلس', 'السليمانية','حي/أخرى'],
        'البكيريه': ['305/ ق', 'الربوة', 'السحابين الشمالى', 'شمال البكيرية', 'الفويلق', 'الياسمين', 'شمال غرب البكيرية', 'ق/ ى/ 150', 'الضلفعة', 'النزهه', 'النهضة', 'المصيف', 'القادسية', 'الشيحية', 'اليرموك', 'غرب البكيرية', 'المحمدية', 'الربيع', 'النفل', 'الافراح', 'الحزم', '403/ ق', 'الريان', 'الفردوس', 'المجد', 'النزهة', 'التعاون', 'غرب الفويلق', 'ق/ ى/ 44', 'الاندلس', 'وسط البكيرية', 'جنوب الفويلق', 'القدس', '767/ ق', 'حطين', 'الوادى', 'ق/ ى/ 158','حي/أخرى'],
        'الجبيل': ['الضباب', 'ضاحية الملك فهد', 'الدفى', 'الفناتير', 'الخليج', 'الحمراء', 'طيبة', 'الدانة', 'روضه الخالدية','حي/أخرى'],
        'الحناكية': ['947/ و', '978 / ت / 1423 / 2 الواقعة بمركز الصويدرة', 'بطيحان', '978 / ت / 1423 الواقعة بمركز الصويدة', '978 /ت / 1423 التابع لمركز الصويدرة', 'الاستيطان', '978/ ت/ 1423', '978/ت/ 1423 / 2 التابع لمركز الصويدرة', '978/ ت/ 1423/ 2','حي/أخرى'],
        'الخبر': ['الصدفة', 'الصوارى', 'العزيزية', 'اللؤلؤ', 'بدون الارشادى بالثقبة', 'جنوب غرب الانابيب', 'ش.خ 738', 'الامواج', 'الروابى', 'العزيزيه', 'الفيصلية', 'الأندلس', 'الثقبة', 'الدانة', 'الكوثر', 'التحلية', 'مدينة العمال', 'البحيرة', 'العقيق', 'المرجان', 'الخبر الشمالية', 'ش خ 480', 'ش خ 605', 'اشبيليا', 'الخزامى', 'الشراع', 'قرطبة', 'بدون الارشادى بالخبر الشمالية', 'الظهران', 'الجامعة', 'الحزام الأخضر', 'الدرة', 'الواحه', 'بدون','حي/أخرى'],
        'الخرج': ['الثليماء', 'الخالديه', 'الزاهر', 'الغدير', 'الورود', 'غرب الهياثم', 'قرب الثليماء', 'مشرف', 'الحمراء', 'العفجة', 'الفيصلية', 'المحمدية', 'الهدا', 'الهياثم', 'طريق حرض', 'الخزامى', 'الريحان جنوب طريق حرض', 'العفجه', 'شرق مركز اليمامه', '1039 الواقع على بعد 13كم غرب الخرج', 'الخالدية', 'السلام', 'الهدا المربع الثالث', 'اليرموك', 'هجرة الصيعان', 'النهضه', 'غرناطه', 'الاندلس', 'الريان', 'الصفا', 'الهدا المربع السادس', 'الروضة', 'النهضة', 'الراشدية', 'الصفوة', 'المنتزه', 'حطين', 'العزيزية', 'النزهه', 'الرفيعة', 'اليمامة', 'النزهة','حي/أخرى'],
        'الخرمه': ['الخليج', 'النزهة', 'المحمدية', 'الخالدية', 'بدون', 'الروضة', 'الحزم','حي/أخرى'],
        'الخفجي': ['الأندلس', 'السفانية', 'الخالدية', 'السلام', 'العزيزية', 'غرناطه', 'النهضه', 'التعاون', 'الفيحاء', 'الروضة', 'الشاطئ', 'الخزامى', 'الفيصلية', 'الملك فهد/ 34', 'الريان', 'الجوهرة', 'النزهه', 'الورود', 'المحمدية', 'المروج', 'الياسمين', 'الحمراء','حي/أخرى'],
        'الدرعيه': ['العمارية', 'نجد', 'عرقه', 'عقرباء', 'ظهرة العودة', '118 حى ظهرة العودة', 'الخالدية', 'العاصمة', 'السلمانية','حي/أخرى'],
        'الدلم': ['بدون والمسمى الاستراحات', 'بدون','حي/أخرى'],
        'الدمام': ['احد', 'الامانة', 'الراكة  الشمالية', 'الشعلة', 'العدامة', 'الفيحاء', 'الفيصلية', 'المنار', 'المنتزه', 'النزهة', 'النور', 'الواحة', 'بدر', 'ش د 1117', 'ضاحية الملك فهد', 'طيبة', 'مدينة العمال', '337/ 1', 'الزهور', 'المنتزة', 'الندى', 'هجر', 'الجامعة', 'الجلوية', 'الروضة', 'السيف', 'الشعله', 'الصفا', 'العروبة', 'العزيزية', 'الناصرية', 'النهضة', 'ش د  1305', 'غرب الدمام', 'الضباب', 'القادسية', 'الصدفة', 'الفرسان', 'المزروعية', 'البادية', 'الجوهرة', 'الصناعية', 'الطبيشى', 'القصور', 'النخيل', 'الحمراء', 'الفردوس', 'شاطئ نصف القمر', 'البحيرة', 'المحمدية', 'غرناطة', 'ش.د 1080', 'الخليج', 'القصور بالظهران', 'النهضه', 'القيروان', 'الريان', 'الجامعيين', 'الاسكان', 'غرب الفيصلية', 'الشروق', 'الربيع','حي/أخرى'],
        'الدوادمي': ['908 فى عروى', 'الواحة','حي/أخرى'],
        'الرس': ['836/ ق', 'العزيزية', '369/ ق', 'القدس', 'ق/ ر/ 488', 'المروج', '40/ ق', 'الربوة', 'الشفاء', 'السالميه', 'الشهداء','حي/أخرى'],
        'الرياض': ['أحد', 'اشبيليا', 'الامانة', 'الاندلس', 'البيان', 'الجرادية', 'الجنادرية', 'الحزم', 'الخالدية', 'الخليج', 'الخير', 'الدار البيضاء', 'الدريهمية', 'الرابية', 'الرمال', 'الروابى', 'الروضة', 'الزهرة', 'الزهور', 'السعادة', 'السلام', 'السلى', 'السويدى', 'الضباط', 'العريجاء', 'العزيزية', 'العوالي', 'الغنامية', 'الفاروق', 'الفيحاء', 'المرسلات', 'المروة', 'المروج', 'المشاعل', 'المصفاة', 'الملقا', 'المنار', 'المهدية', 'المونسية', 'النخيل', 'النرجس', 'النسيم', 'النظيم', 'النفل', 'النهضة', 'الهدا', 'الياسمين', 'اليرموك', 'ام الحمام', 'بدر', 'جرير', 'شرق الرياض', 'طويق', 'عريض', 'قرطبة', 'لبن', 'نمار', 'البديعة', 'الحمراء', 'الربوة', 'السليمانية', 'الشفاء', 'الصفاء', 'العليا', 'القادسية', 'القيروان', 'المدينة الصناعية الجديدة', 'المرقب', 'المعيزلية', 'المغرزات', 'الملز', 'المناخ', 'دعكنة', 'شبرا', 'مطار الملك خالد الدولى', 'الجزيرة', 'الريان', 'الزاهر', 'الصحافة', 'الصناعية', 'العارض', 'العقيق', 'الفاخرية', 'الفرسان', 'الفلاح', 'المنصورة', 'النخبة', 'طيبة', 'غرناطة', 'الربيع', 'القدس', 'الندى', 'عكاظ', 'الحائر', 'الخزامى', 'الشرق', 'المصانع', 'الملك فهد', 'الملك فيصل', 'الندوة', 'اليمامة', 'حطين', 'الازدهار', 'التعاون', 'الشهداء', 'المصيف', 'الملك عبد الله', 'الملك عبدالعزيز', 'النزهة', 'الواحة', 'الوادي', 'ديراب', 'طريق الخرج', 'غبيراء', 'الشعلة', 'المربع', 'الرحمانية', 'الرفيعة', 'سلطانة', 'المعذر', 'منفوحة', 'الزهراء', 'عتيقة', 'الغدير', 'الورود', 'المحمدية', 'الناصرية', 'النور', 'الفيصلية', 'الرضا', 'الشرفية', 'دانة الرامس','حي/أخرى'],
        'الطائف': ['العرفاء', 'القيم', 'المضباع', 'الوسام', 'جليل', 'رحاب', 'ضاحية العرفاء', 'الحلقة', 'الشهداء الجنوبية', 'سلطانه', 'الجال', 'السيل الصغير', 'القمريه', 'المنتزه', 'الجوهرة', 'الفيصلية', 'الريان', 'الهدا', 'النسيم', 'الخالدية', 'شبرا', 'العزيزية', 'الربوه', 'الشرقية', 'العقيق', 'النزهه','حي/أخرى'],
        'العيون': ['ضاحية الامير سلطان', 'الرابية', 'غرب العيون','حي/أخرى'],
        'الغاط': ['1124 بمركز مليح', '1314 بمركز العبدلية','حي/أخرى'],
        'القريات': ['1/ 8/ 2/ 1423', '11/ 8/ 2/ 1421', '17/ 8/ 2/ 1421','حي/أخرى'],
        'القطيف': ['ابو معن', 'تاروت', 'دانة الرامس', 'ضاحية الملك فهد المجاورة الثانية', 'الخزامى غرب الاوجام المجاورة الاولى', 'النابية', 'ضاحية الملك فهد المجاورة الرابعة', 'الرويحة', 'الزهراء', 'ضاحية الملك فهد المجاورة الخامسة', 'سيهات', 'الرضا', 'ضاحية الملك فهد المجاورة الاولى', 'الصناعية', 'ضاحية الملك فهد', 'ام الحمام', 'البوادى', 'الجميح بسيهات', 'الخزامى','حي/أخرى'],
        'القنفذه': ['الشاطئ', 'الحبيل', '2/ م/ ق/ق/ الصالحى', 'الشرقية','حي/أخرى'],
        'الليث': ['ش/ 2/ 35/ المعدل', 'ل/ 5/ 21','حي/أخرى'],
        'المخواة': ['ناوان','حي/أخرى'],
        'المدينة المنورة': ['ابيار الماشى', 'الخضراء مخطط ضاحية العاقول العوينة سابقا', 'الخضراء منطقة العوينة مخطط ضاحية العاقول', 'الرانوناء', 'الرانوناء بمنطقة الهجرة', 'الصهوه شمال شرق المدينة المنورة منطقة العوينة', 'العاقول', 'العزيزية', 'المنح بالحره الشرقيه', 'النبلاء منطقة المناهل', 'حمراء الاسد/ هـ', 'ضاحية ابيار الماشى', 'الجصة منطقة الهجرة', 'الخالديه', 'العزيزية.', 'الملك فهد', 'حرة جبل عير', 'مخيط طريق تبوك مخطط ولد محمد السكنى', 'الحرة الشرقية', 'الحرة الشرقية القبلية', 'الربوة', 'ضاحية المندسة المرحلة الاولى', 'حمراء الاسد', 'شوران فى منطقة الهجرة مخطط حمد عبدالله المحيسن', 'ضاحية المندسة', 'عين الخيف منطقة ميطان', 'مذينب منطقة ميطان', 'طيبة بمنطقة البيداء', 'السلام', 'السلام فى منطقة البيداء', 'السكب منطقة جبل عير', 'كنانة بالخليل من مخطط الامانة', 'وادى البطان شرق المدينة منطقة تيم', 'وادى مذينب و عين الخيف منطقة ميطان', 'حمراء الاسد/ ج', 'سلطانة', 'حمراء الاسد/ د', 'الزهرة / ب منطقة الربوة', 'م/ م/ 1052/ 1432', 'الروضة', 'الخالدية','حي/أخرى'],
        'المذنب': ['الخليج', 'المروج', 'الأندلس', 'الريان', 'قرطبة', 'النخيل', 'النسيم', 'القادسية', 'الخزامى', 'المربع', 'الصفراء', 'الورود', 'الشروق','حي/أخرى'],
        'المزاحميه': ['الجله', 'الربيع الثانى', 'الشروق', 'الجلة طريق الدحوة', 'الشعلة/ 2', 'جو', 'شمال الجلة', '1045/أ المحمدية', 'البخراء', 'الربيع/ 1', 'الشعلة', 'الوسام', '218/ 13', 'السالميه', 'الربيع الاول', 'نجد', 'ديراب', 'زهرة الربيع', 'الغطغط', 'التحلية', 'البديعة', 'الواحه', '378طريق جو', 'الواحة', 'الياسمين','حي/أخرى'],
        'النعيريه': ['الربيع', 'ش ن/ 133/ معدل 1', 'الخليج', 'المحمدية', 'العزيزية', 'الشيحية', 'السلمانية', 'الفلاح','حي/أخرى'],
        'بريده': ['الاسكان', 'الجزيرة', 'الرحاب', 'الزرقاء', 'السليمانية', 'الصفاء', 'الغماس', 'القصيعة', 'المرقب', 'المليداء', 'النبقية', 'النقع', 'النقيب', 'النهضة', 'الورود', 'خب الثنيان', 'شمال بريدة', 'الحمر', 'الربوة', 'السالمية', 'الشقة', 'الشقة السفلى', 'الفايزية', 'القاع البارد', 'المريدسية', 'النخيل', 'الوسيطى', 'ضراس', 'الحزم', 'الريان', 'الغدير', 'المنتزة الجنوبى', 'جنوب الشقة', '3057/ ق', 'خب روضان', 'الجامعة', 'خضيراء', 'شمال أبلق', 'شمال بريده', '940/ ق', 'البصر', 'الخليج', 'الروضة', 'الضاحى', 'العليا', 'الفاروق', 'النور', 'الأخضر', 'الحمراء', 'الرفيعة', 'الرمال', 'الشفق', 'الصفراء', 'واسط', '988/ ق', 'الشروق', 'الروابى', 'العريمضى', 'اللسيب', 'المنار', 'البساتين', 'المروج', 'النسيم', '235/ ق', 'الرابية', '1/ أ م/ 1412', '116/ ق', 'السلام', 'المنتزة', 'النفل', 'القادسية', 'الربيع', 'الجراد', 'الفلاح','حي/أخرى'],
        'بقعاء': ['العزيزية', 'النهضة', 'الشيحية','حي/أخرى'],
        'بلقرن': ['البظاظة', 'البشائر','حي/أخرى'],
        'بيش': ['204 باسم ضيف الله العداوى بقرية الفرشه', 'خبت الفلق', 'النهضه','حي/أخرى'],
        'بيشه': ['شرق المدينه', 'جنوب المدينة', '425/ 1429/ ع/ 3','حي/أخرى'],
        'تبوك': ['الاخضر', 'البوادى', 'الجامعة', 'الريان', 'المخطط السكنى رقم 1 شمال الجامعة', 'المخطط السكنى رقم 2 شمال الجامعة', 'الياسمين', 'اليرموك', 'غرناطه', 'التعاون', 'السعادة', 'الصفا', 'القدس', 'المخطط السكنى رقم 3 شمال الجامعة', 'النهضة', 'الورود', 'الربوه', 'الروضة', 'السليمانية', 'النخيل', 'سلطانه', 'المصيف 3', 'القادسيه2', 'المروج 2', 'السلام', 'النظيم', 'المصيف 1', 'الحمراء', 'النخبة', 'الشفا', 'قرطبة', 'البساتين', 'بدون', 'الفيصلية', 'الجزيرة', 'الصالحية', 'المنتزه', 'الندى', 'العزيزية','حي/أخرى'],
        'تثليت': ['110/ 1427/ ع/ 9', 'الخالدية', 'العزيزية', 'جاش', 'الفاخرية', 'المدينة','حي/أخرى'],
        'تربه': ['الخالدية', 'النسيم', 'النهضة', 'الحايرية', 'الواحة', 'شعر', 'السلام','حي/أخرى'],
        'تيماء': ['الرحمانية', 'الشفاء', 'الربوة', 'المنتزه', 'النسيم', 'الروضة', 'الصفاء','حي/أخرى'],
        'ثادق': ['302/ أ', 'العقيق', 'الملك عبدالله', '1/ ث/ 1412هـ', 'الجامعة', 'الجنادرية', 'اليرموك', 'الفيصلية', 'الخالدية','حي/أخرى'],
        'جده': ['6 / 7 / 2/ 1423/ معدل/ س', 'ابحر الشمالية', 'الامواج', 'البحيرات', 'البساتين', 'البشائر', 'البوادر', 'البوادى', 'الجامعيين', 'الجزيرة', 'الحمدانية', 'الخليج', 'الخمرة', 'الرحمانية', 'الرغامة', 'الروابى', 'الرياض', 'الريان', 'الزمرد', 'السامر', 'السلامة', 'السليمانية', 'الشاطئ', 'الشويضى', 'الصالحية', 'الصفا', 'الصوارى', 'الغدير', 'الفرقان', 'الفروسية', 'الفضيلة', 'الفلاح', 'الفنار', 'الفيصلية', 'القرينية', 'اللؤلؤ', 'المجد', 'المحمدية', 'المروة', 'المروج', 'المنارات', 'الندى', 'النزهة', 'النور', 'الهجرة', 'الهجرة شرق طريق المدينة', 'الهدا', 'الواحة', 'الوادى', 'الوداد', 'الوفاء', 'الياقوت', 'اليسر', 'امتداد غران', 'بحرة', 'بحرة الجديدة', 'بنى مالك', 'جنوب السلام', 'جوهرة العروس', 'جوهرة العروس بذهبان غرب طريق المدينة', 'جوهرة ثول', 'حكومى', 'مريخ', 'مشرفة', 'أبحر الجنوبية', 'الأمير عبد المجيد', 'الاجواد', 'البريكه', 'الدرة', 'الربيع', 'الرحاب', 'الساحل', 'الشرائع', 'الشراع', 'الصفوة', 'العبير', 'العزيزية', 'الكوثر', 'المنار', 'النجمة', 'النخيل', 'النعيم', 'أم سدرة', 'الاجاويد', 'الربوه', 'الفيحاء', 'النسيم', 'ام السلم', 'بحرة الجديدة المعدل 2', 'بريمان', 'طيبة', 'البيان', 'الاصالة', 'الروضة', 'السروات', 'السنابل', 'الورود', 'ذهبان', 'العزيزية المعدل', 'الخالدية', 'الرياض شرق جده شمال طريق عسفان', 'النهضة', 'ام حبلين الغربية', 'مدائن الفهد', 'وادى ستارة المعدل', 'الزهراء', 'الزهور', 'اليمانية', 'الفردوس', 'الحمراء', 'السلام', 'الجوهرة', 'الشرفية', 'وادى الشعبه الواقع بمدينه بحرة طريق مكة جدة القديم', 'العقيق', 'المرجان', 'السويدى','حي/أخرى'],
        'جيزان': ['المحمديه', 'الناصرية بضاحية الملك عبدالله', 'الروابى', 'المحمدية', 'النسيم', 'الروابى بضاحية الملك عبدالله', 'المطار', 'الرحاب', 'الصفا', 'السويس', 'الشاطئ', 'القدس بضاحية الملك عبدالله', 'محليه', 'الروضة', 'الروضه', 'الناصرية', 'البشائر','حي/أخرى'],
        'حائل': ['الأوامر السامية', 'الخزامى', 'الرصف', 'القاعد', 'المدائن', 'الوادى', 'قرية قفار', 'قفار', 'المصيف', 'الودي', 'بدائع قفار', 'ضاحية الملك فهد', 'الجثاميه', 'السويفلة', 'العزيزية', 'الودى', 'شرق السويفله', 'شمال مدينة حائل قاع الهقص', 'الشمالى', 'الياسمين', 'نقرة قفار', 'النقرة', 'الشفاء', 'الأوامر السامية بشرق السويفلة', 'حدرى البلاد', 'مشروع اسكان حائل', 'منطقة 28 كم شمال غرب حائل قرية السفن', 'السويفله', 'الشروق', 'مدينة القاعد', 'الريان', 'النسيم', 'الروضة', 'الزهراء', 'المنتزة', 'البادية', 'المطار', 'الجراد', 'الورود', 'العزيزيه', 'النفل', 'النهضه','حي/أخرى'],
        'حرض': ['4/ 236','حي/أخرى'],
        'حريملاء': ['البره', 'حريملاء', 'ملهم', 'القرينة', 'الحزم', 'بدون','حي/أخرى'],
        'حفر الباطن': ['أبو موسى الأشعرى', 'البلدية', 'التلال', 'الروضة', 'الشفاء', 'الفيحاء', 'المحمدية', 'اليرموك', 'غرناطة', 'قرطبة', '121/ ح', 'الأندلس', 'الربوة', 'السلمانية', 'المصيف', 'النسيم', 'الوادى', 'الخالدية', 'الصناعية', 'المروج', 'النزهة', 'الريان', 'السليمانية', 'الشفا', 'العزيزية', 'النهضة', 'الفيصلية', 'النخيل', 'الباطن', 'الصفاء', 'الواحة','حي/أخرى'],
        'حقل': ['الريان', 'اليرموك', 'المروج', 'القادسية','حي/أخرى'],
        'حوطة بني تميم': ['السلامية', 'نعام','حي/أخرى'],
        'حوطة سدير': ['أ/ خ/ د', '141/ أ','حي/أخرى'],
        'خميس مشيط': ['الحفاير', 'جنوب طريق الخميس تندحة الرياض المزدوج', 'حفينان', 'شمال الخميس ج', 'شمال الصناعية الجديدة غرب طريق وادى بن هشبل', 'مخطط شمال الخميس أ', 'شرق ذهبان', 'شمال الخميس ب', 'الضاحية', 'شرق طريق وادى بن هشبل', 'مخطط الصفا', 'غرب طريق وادى بن هشبل', 'حجلا', 'قبر الحصان', 'مخطط سعيد بن مبطى وعوضه بريدى','حي/أخرى'],
        'دومة الجندل': ['الصفاة الجزء الثانى', 'غرب الصفاه الغدير', 'الخالدية', 'غرب دومة الجندل', 'مخطط ارض حمدان سلمان العابد', 'الصالحية', 'الصفاة الجزء الاول', 'العزيزية','حي/أخرى'],
        'رأس تنوره': ['الدانة', 'المنتزه', 'الفيحاء', 'الروضة', 'الأندلس', 'النعيم','حي/أخرى'],
        'رابغ': ['النعيم', 'حى المرجانية/ ر/ 1/ 1407', 'مركز صعبر/ ر/ 5/ 31', 'حى الميثب/ ر/ 11/ 36','حي/أخرى'],
        'رفحاء': ['الورود', 'الملز','حي/أخرى'],
        'رماح': ['84/ أ','حي/أخرى'],
        'رنيه': ['الجدر الشرقى', 'العثيثى', 'الورود', 'الوزران', 'الشمالى', 'الحزم','حي/أخرى'],
        'سكاكا': ['التلال', 'الروضة', 'السليمانية', 'الضاحية', 'اللقائط', 'ج 19', 'ج26', 'ج8', 'الجوهرة', 'الفيصلية', 'ج 39', 'ج17', 'الزهور', 'الرحمانية', 'الكوثر', 'النخيل', 'الزهراء', 'النفل', 'سلطانة', 'المحمدية', 'السلام', 'الفاروق', 'الناصرية', 'النزهة', 'الصالحية', 'الشفاء', 'الورود', 'الربوة', 'الواحه', 'الشروق', 'العمارية', 'المروج','حي/أخرى'],
        'شروره': ['الامير مشعل ب', 'الملك عبدالله', 'النزهة', 'الامير مشعل أ', 'الخالدية', 'سلطانه', 'الروضة', 'الفيصلية','حي/أخرى'],
        'شقراء': ['204/ ب', '972/ أ', '397/ أ', '972/ ب', 'ساجر', 'الدار البيضاء', '204/ أ', 'بدون','حي/أخرى'],
        'صامطه': ['ضاحية الملك فهد', '222 حى الركوبة','حي/أخرى'],
        'ضباء': ['المروج', 'عيانه', 'الضاحية', 'شمال عيانه', 'القادسية','حي/أخرى'],
        'ضرماء': ['السيبانى', 'السالمية حى السالمية', 'البطين', 'العارضية/ د', 'العارض','حي/أخرى'],
        'طبرجل': ['النزهة', 'الورود', 'النزهه', '6 / 7 / 2/ 1423/ معدل/ س', 'الربيع', 'المنتزة', 'الربوه', 'النفل','حي/أخرى'],
        'طريف': ['الشفا', 'الورود', 'اليرموك', 'سلطانه', 'الصالحيه', 'الفيصليه', 'الخالديه', 'الخليج', 'المنتزة', 'الفيصلية','حي/أخرى'],
        'ظهران الجنوب': ['النزهه', 'الملك عبدالعزيز', 'النهضة','حي/أخرى'],
        'عرعر': ['غرناطه', 'الروابى', 'قرطبه', 'المروج', 'القدس', 'المطار', 'النخيل', 'الناصرية', 'ضاحية الملك فهد', 'الجوهره', 'مشرف', 'المباركية', 'المحمديه', 'العزيزية', 'النسيم', 'الربوه', 'الصالحيه', 'الفيصليه', 'الجوهرة', 'المحمدية', 'الخالدية','حي/أخرى'],
        'عفيف': ['625 الواقع فى مركز الحوميات','حي/أخرى'],
        'عنيزه': ['الخليج', 'الرحاب', 'الروابى', 'الشرقية', 'المحمدية', 'غرب عنيزة', 'الزهور', 'المروج 2', 'الملك خالد', 'المنار', 'الراحة', 'القادسية', 'المروج', 'المصيف', 'الياسمين', 'الحمراء', 'الزاهر', 'الفاخرية', 'طيبة', 'الجلدة', 'الواحه', 'الوفاء', 'الريان', 'الواحة', 'سلطانة', 'الخزامى', 'الناصرية', 'النخيل', 'الملك فهد', 'الفيحاء', 'العروبة', 'الرمال', 'السليمانية', 'الشفاء', 'شرق عنيزة', 'الغنامية', 'الصفراء', 'المنتزة', 'السلام', 'البديعة', 'القدس', 'العليا', 'الاسكان', 'الصالحية', 'الفرسان','حي/أخرى'],
        'قرية العليا': ['المنتزه', 'الربيع', 'المروج', 'بدون', 'الزهور', 'السلام','حي/أخرى'],
        'محايل عسير': ['29/ 1416/ ع/ 13', 'خبت ال حجرى', 'الحبيل', 'الحيلة','حي/أخرى'],
        'مرات': ['ثرمداء', 'لبخه', 'حويته/ 1182','حي/أخرى'],
        'مكة المكرمة': ['الحمراء', 'الراشدية', 'الشوقية', 'العسيلة', 'بطحاء قريش', 'بطحاء قريش المعتمد', 'مخطط ولى العهد 1', 'مخطط ولى العهد 9 جزء ب', 'مخطط ولى العهد رقم 2', 'مخطط ولى العهد رقم 9 جزء ط', 'مخطط ولى العهد للمنح رقم 8', 'واحة مكة التطويرى الأول المعدل', 'وادى الشعبه الواقع بمدينه بحرة طريق مكة جدة القديم', 'ولى العهد 7', 'ولى العهد رقم 1', 'ولى العهد رقم 3', 'ولى العهد رقم 4', 'ولى العهد رقم 5', 'ولى العهد للمنح رقم 5', 'بطحاءقريش', 'مخطط ولى العهد رقم 9 جزء أ', 'ولى العهد رقم 2', 'ولى العهد رقم 6', 'ولى العهد رقم 8', 'ولى العهد للمنح رقم 1', 'ولى العهد للمنح رقم 5 المعدل', 'المحمديه', 'بطحاء قريش النموذجى', 'الراشدية رقم 2', 'الصفوة', 'المعيصم', 'ولى العهد رقم 7', 'مخطط النخيل', 'مخطط بطحاء قريش', 'ام الكتاد', 'جنوب العزيزيه', 'مخطط الريان', 'مكة المكرمة', 'مخطط المسفلة الواقع فى جزئى 10 و11', 'الزاهر', 'الريان', 'وادى جليل', 'تلال مكة', 'الشرق', 'الفيحاء', 'الشهداء', 'النسيم','حي/أخرى'],
        'نجران': ['أبا الخريت', 'التلال', 'الحصينيه', 'الروضة', 'الروضه', 'الشرفه الجنوبيه', 'النزهه', 'النهضه', 'خباش', 'شرق المطار/ أ', 'شرق المطار/ ب', 'الجامعة', 'الشرفه الجنوبيه/ أ', 'الشرفه الجنوبية/ أ', 'شرق المطار/ ج', 'الفيصليه', 'المنتشر', 'الضباط', 'الخالديه','حي/أخرى'],
        'نصاب': ['1/ د/ ش/ 1426', 'بدون','حي/أخرى'],
        'وادي الفرع': ['719/ ت/ 1416', '919/ و/ 1422','حي/أخرى'],
        'يدمه': ['2/ ن/ ى/ 1411', '6/ ن/ ى/ 1419','حي/أخرى']
};



      // Function to update city options based on selected area
      areaSelect.addEventListener('change', function () {
        const selectedArea = areaSelect.value;

        // Clear and reset options
        citySelect.innerHTML = '<option value="">Select a city</option>';
        districtSelect.innerHTML = '<option value="">Select a district</option>';

        // Populate city dropdown based on selected area
        if (citiesByArea[selectedArea]) {
          citiesByArea[selectedArea].forEach(function (city) {
            const option = document.createElement('option');
            option.value = city;
            option.textContent = city;
            citySelect.appendChild(option);
          });
        }
      });

      // Function to update district options based on selected city
      citySelect.addEventListener('change', function () {
        const selectedCity = citySelect.value;

        // Clear and reset options
        districtSelect.innerHTML = '<option value="">Select a district</option>';

        // Populate district dropdown based on selected city
        if (districtsByCity[selectedCity]) {
          districtsByCity[selectedCity].forEach(function (district) {
            const option = document.createElement('option');
            option.value = district;
            option.textContent = district;
            districtSelect.appendChild(option);
          });
        }
      });

      // Submit form data to the API and display the result
      document.querySelector('.estimator-form').addEventListener('submit', function (event) {
        event.preventDefault();
        resultBox.style.display = 'block';

        // Collect form data
        const formData = {
          area: document.getElementById('area').value,
          city: document.getElementById('city').value,
          district: document.getElementById('district').value,
          mukatat: document.getElementById('mukatat').value,
          property_classification: document.getElementById('property_classification').value,
          property_type: document.getElementById('property_type').value,
          space: document.getElementById('space').value
        };

        // Send the data to the prediction API
        fetch('/api/estimate_price', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(formData)
        })
        .then(response => response.json())
        .then(data => {
          // Display the predicted price
          if (data.predicted_price) {
            resultBox.innerHTML = `<h2>Estimated Property Value: ${data.predicted_price.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })} SAR</h2>`;
          } else {
            resultBox.innerHTML = '<h2>Error calculating estimated property value</h2>';
          }
        })
        .catch(error => {
          console.error('Error:', error);
          resultBox.innerHTML = '<h2>Failed to calculate estimated property value</h2>';
        });
      });
    });
  </script>
{% endblock %}
